<html>
	<head>
		<meta http-equiv=Content-Type content="text/html;charset=utf-8">
		<title>Map Editor</title>
		<link rel="stylesheet" href="css/style.css">
		<script type="text/javascript" src="js/util.js"></script>
		<script type="text/javascript" src="js/main.js"></script>
	</head>
	
	<script>
		function start(){
			PersistManager.init();
			DataManager.init();
			SrcMapManager.init();
			ToolManager.init();
			TargetMapManager.init();
			
		}
	</script>
	<body onload="start()">
		<div class="container">
			<div class="leftPanel">
				<div class="options">地图大小,
				x:<input type="number" id="mapSizeX" value="1024" min="100"> y:<input type="number" id="mapSizeY" value="768" min="100">
				<button name="mapSizer" id="mapSizer">确定</button>
				<div><input type="text" id="mapsrc" /><button id="setMapSrc">确定</button></div>
				<div id="selectedElement"></div>
				<div>可穿越：<input type="checkbox" name="cross" id="cross">可跳跃：<input type="checkbox" name="jump" id="jump">
					<button id="saveMeta" disabled>存</button>
				</div>
				</div>

				<div><button name="exportMap" id="exportMap">导出地图</button></div>
				<canvas id="srcCanvas" width="300" height="600"></canvas>
				<div id="maskLayer" width="0" height="0"></div>
			</div>
			<div class="tools">
				<button id="continueModeBtn" value="continues">进入连续模式</button>
				<button id="deleteClip" value="delete">进入删除模式</button>
				<fieldset>
					<legend>图层</legend>
					<input type="checkbox" id="showAllLayer">全部</input>
					<input type="button" id="addNewLayer">增加</input>
					<input type="button" id="cleanMap">清除</input>
				</fieldset>
			</div>
			<div class="rightPanel">
				<canvas id="targetCanvas" width="1024" height="768"></canvas>
			</div>
		</div>
		<canvas id="hiddenCanvas" width="1024" height="768" style="display:none"></canvas>
		<div id="dataconsole" class="hiddenDataConsole">
			<button id="consoleCloseBtn">关闭</button>
			<div id="exporteddata" contenteditable="true"></div>
		</div>
	</body>
</html>